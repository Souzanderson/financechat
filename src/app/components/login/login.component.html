<div id="login">
    <div class="login-box">
        <h2>MBFinanceAI</h2>
        <form (ngSubmit)="login()">
            <div class="textbox">
                <input type="text" [disabled]="loading" [(ngModel)]="username" name="username" placeholder="Username" required  />
            </div>
            <div class="textbox">
                <div class="password-input-wrapper" style="position: relative;">
                    <input
                        [type]="showPassword ? 'text' : 'password'"
                        [disabled]="loading"
                        [(ngModel)]="password"
                        name="password"
                        placeholder="Password"
                        required
                        style="padding-right: 2.5rem;"
                    />
                    <button
                        type="button"
                        (click)="showPassword = !showPassword"
                        class="show-password-btn"
                        tabindex="-1"
                        aria-label="Toggle password visibility"
                    >
                        <span *ngIf="showPassword; else hideIcon">
                            <!-- Eye Open SVG -->
                            <svg width="20" height="20" fill="none" viewBox="0 0 24 24">
                                <path d="M1 12s4-7 11-7 11 7 11 7-4 7-11 7S1 12 1 12z" stroke="#555" stroke-width="2" fill="none"/>
                                <circle cx="12" cy="12" r="3" stroke="#555" stroke-width="2" fill="none"/>
                            </svg>
                        </span>
                        <ng-template #hideIcon>
                            <!-- Eye Closed SVG -->
                            <svg width="20" height="20" fill="none" viewBox="0 0 24 24">
                                <path d="M1 12s4-7 11-7 11 7 11 7-4 7-11 7S1 12 1 12z" stroke="#555" stroke-width="2" fill="none"/>
                                <path d="M4 4l16 16" stroke="#555" stroke-width="2"/>
                            </svg>
                        </ng-template>
                    </button>
                </div>
            </div>
            <button type="submit" [disabled]="loading">
                <span *ngIf="loading" class="loading">
                </span>
                <span *ngIf="!loading">Login</span>
            </button>
        </form>
    </div>
</div>